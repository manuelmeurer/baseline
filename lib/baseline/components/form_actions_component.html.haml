-# frozen_string_literal: true

- button_classes = class_names("btn", "btn-#{@button_size}" => @button_size)

- actions = helpers.capture_haml do
  = content
  = @form.button class: [*button_classes, "btn-#{@button_color}"], data: @submit_data do
    -# For some reason, this content is output twice if we use `= icon :accept` here.
    - [icon(@submit_icon), @submit_label].join(" ").html_safe
  - if ::Current.modal_request
    = link_to "#", class: [*button_classes, "btn-outline-dark"], data: { bs_dismiss: "modal" } do
      = icon :reject
      = t(:cancel).capitalize

- case
- when ::Current.modal_request
  .d-none{ data: helpers.stimco(:modal, to_h: false).target(:footer_content) }
    = actions
- when @horizontal
  .row
    .col{ class: form_classes(type: :label, prefix: "offset") }
      = actions
- else
  = actions
