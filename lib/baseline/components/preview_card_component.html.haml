-# frozen_string_literal: true

- case @type
- when :card

  :css
    ##{@id} {
      display: flex;
      text-decoration: none;
      max-width: 500px;
      height: 125px;
      border-width: 0;
      border: 1px solid #ccc;
      border-radius: 4px;

      .preview-card-image {
        background: url("#{@image_url}") center/cover no-repeat;
        width: 125px;
      }

      .preview-card-content {
        flex: 1 1 0;
        min-width: 0;
        text-align: left;
        padding: 10px 15px;
        border-left: 1px solid #ccc;
        position: relative;
        background-color: white;
        color: #212529;

        .preview-card-title,
        .preview-card-description {
          overflow: hidden;
          display: -webkit-box;
          -webkit-line-clamp: 2;
          -webkit-box-orient: vertical;
          line-height: 1.3;
        }

        .preview-card-title {
          font-weight: bold;
          margin-bottom: 5px;
        }

        .preview-card-description,
        .preview-card-website {
          font-size: 0.85em;
        }

        .preview-card-website {
          position: absolute;
          left: 15px;
          bottom: 5px;
          color: #666;
        }
      }
    }

  = link_to @url, id: @id, **external_link_attributes do
    .preview-card-image
    .preview-card-content
      .preview-card-title
        = @title
      .preview-card-description
        = @description
      .preview-card-website
        = @website

- when :youtube

  = component :iframe, @url

- else
  - raise "Unexpected partial: #{@type}"
